<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition template="/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">    

    <ui:define name="centro"> 
        <h:form id="frmCadAnalise" acceptcharset="ISO-8859-1" enctype="multipart/form-data">
            <p:growl id="growl" showDetail="true"/>                                  
            <p:panel header="Análise de Protocolos" >
                <h:panelGrid columns="2" >
                    <h:outputLabel value="Número do Protocolo: "/>
                    <p:inputText value="#{cadAnaliseBean.nrOs}">
                        <f:convertNumber type="number"/>
                    </p:inputText>

                    <h:outputLabel value="Prioridade:"/>
                    <p:selectOneMenu value="#{cadAnaliseBean.priorPesq}" id="priorDrop" filter="true" filterMatchMode="contains">
                        <f:selectItem itemLabel="........................................" />
                        <f:selectItems value="#{cadAnaliseBean.listarPriorOs()}" var="prior"  
                                       itemLabel="#{prior.get('nome')}" itemValue="#{prior.get('codigo')}" />
                    </p:selectOneMenu>

                    <h:outputLabel value="Situação:"/>
                    <p:selectOneMenu value="#{cadAnaliseBean.sitPesq}" id="sitDrop" filter="true" filterMatchMode="contains">
                        <f:selectItem itemLabel="........................................" /> 
                        <f:selectItems value="#{cadAnaliseBean.listarSitOs()}" var="sit"  
                                       itemLabel="#{sit.get('nome')}" itemValue="#{sit.get('codigo')}" />
                    </p:selectOneMenu>
                </h:panelGrid>
                <f:facet name="footer">                    
                    <p:commandButton value="Pesquisar" actionListener="#{cadAnaliseBean.pesquisar()}" update="grid01"/>                    
                    <p:commandButton value="Limpar" update="frmCadAnalise"/>                                                                    
                    <p:commandButton value="Voltar" action="index.xhtml" ajax="false" style="float: right" />                    
                </f:facet>
            </p:panel>
            <br/>
            <p:fieldset legend="Protocolos Encaminhados Para Atendimento" toggleable="true" toggleSpeed="500" style="border:2px solid red;" >                
                <p:dataTable id="grid01" value="#{cadAnaliseBean.grid01}" var="item" rows="8" paginator="true" paginatorAlwaysVisible="false"  
                             paginatorPosition="bottom" liveResize="true" resizableColumns="true">
                    <p:column style="text-align: center; width: 8%">
                        <f:facet name="header">
                            <h:outputText value="Nr. do Protocolo"/>
                        </f:facet>
                        <h:outputText value="#{item.get('os')}"/>
                    </p:column>

                    <p:column style="width: 9%">
                        <f:facet name="header">
                            <h:outputText value="Prioridade"/>
                        </f:facet>
                        <h:outputText value="#{item.get('prioridade')}"/>
                    </p:column>

                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Categoria"/>
                        </f:facet>
                        <h:outputText value="#{item.get('categoria')}"/>
                    </p:column>

                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Data e Hora de Abertura"/>
                        </f:facet>
                        <h:outputText value="#{item.get('data_hora_abert')}"/>
                    </p:column>

                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Data e Hora de Fechamento"/>
                        </f:facet>
                        <h:outputText value="#{item.get('data_hora_fecha')}"/>
                    </p:column>

                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="Situação"/>
                        </f:facet>
                        <h:outputText value="#{item.get('sit')}"/>
                    </p:column>

                    <p:column style="text-align: center;">
                        <f:facet name="header">
                            <h:outputText value="Ações"/>
                        </f:facet>
                        <p:commandButton icon="ui-icon ui-icon-document" update="@form" title="Visualizar Informações do Protocolo"/>
                        <p:commandButton value="Iniciar Análise" update="@form"/>
                    </p:column>              
                </p:dataTable>
            </p:fieldset>
            <br/>
            <p:fieldset legend="Protocolos Em atendimento"  
                        toggleable="true" 
                        toggleSpeed="500"
                        style="border:2px solid blue;">                
                <h:panelGrid columns="2" cellpadding="5">                    
                    <h:outputText value="Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather, parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream.
                                  In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy,
                                  killing the local Black Hand Fanucci after he demands his customary cut of the tyro's business. With Fanucci gone, Vito's communal stature grows."></h:outputText>
                </h:panelGrid>
            </p:fieldset>
            <br/>
            <p:fieldset legend="Protocolos Pendentes"  
                        toggleable="true" 
                        toggleSpeed="500"
                        style="border:2px solid gray;">                
                <h:panelGrid columns="2" cellpadding="5">                    
                    <h:outputText value="Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather, parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream.
                                  In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy,
                                  killing the local Black Hand Fanucci after he demands his customary cut of the tyro's business. With Fanucci gone, Vito's communal stature grows."></h:outputText>
                </h:panelGrid>
            </p:fieldset>
            <br/>
            <p:fieldset legend="Protocolos Finalizados"  
                        toggleable="true" 
                        toggleSpeed="500"
                        style="border:2px solid green;"
                        collapsed="true">                
                <h:panelGrid columns="2" cellpadding="5">                    
                    <h:outputText value="Francis Ford Coppola's legendary continuation and sequel to his landmark 1972 film, The_Godfather, parallels the young Vito Corleone's rise with his son Michael's spiritual fall, deepening The_Godfather's depiction of the dark side of the American dream.
                                  In the early 1900s, the child Vito flees his Sicilian village for America after the local Mafia kills his family. Vito struggles to make a living, legally or illegally, for his wife and growing brood in Little Italy,
                                  killing the local Black Hand Fanucci after he demands his customary cut of the tyro's business. With Fanucci gone, Vito's communal stature grows."></h:outputText>
                </h:panelGrid>
            </p:fieldset>
        </h:form>
    </ui:define>
</ui:composition>
