<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html"> 
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>SINDMEPA - Gerenciamento de Protocolos</title>
            </f:facet>            
            <link type="text/css" rel="stylesheet" href="theme/jquery-ui.structure.css" />
            <link type="text/css" rel="stylesheet" href="theme/jquery-ui.structure.min.css" />
            <link type="text/css" rel="stylesheet" href="theme/jquery-ui.theme.css" />
            <link type="text/css" rel="stylesheet" href="theme/jjquery-ui.theme.min.css" />
            <link type="text/css" rel="stylesheet" href="theme/jquery-ui.css" />
            <link type="text/css" rel="stylesheet" href="theme/jquery-ui.min.css" /> 
            <link type="text/css" rel="stylesheet" href="theme/estilos.css" /> 
        </h:head>
        <h:body>
            <div id="messages" style="display: block;">
                <p:ajaxStatus style="display:none;margin-bottom:2em;height:24px;">
                    <f:facet name="start">
                        <h:outputLabel value="Processando..."/>
                        <p:graphicImage url="/images/loading.gif" />
                    </f:facet>
                </p:ajaxStatus>

                <p:ajaxStatus onstart="PF('statusDialog').show()" onsuccess="PF('statusDialog').hide()" />

                <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                    <h:outputLabel value="Processando..." />
                    <p:graphicImage url="/images/loading.gif" />
                </p:dialog>
            </div>            
            <!--            <h:form enctype="multipart/form-data">-->                       
            <p:layout fullPage="true">

                <p:layoutUnit position="north" size="80" resizable="true" closable="true" collapsible="true"></p:layoutUnit>

                <p:layoutUnit position="center">                    
                    <h:form id="frmPrimeiroAcesso" acceptcharset="ISO-8859-1" >
                        <p:growl id="growl" showDetail="true"/>
                        <p:panel style="width:400px; margin-left:auto; margin-right:auto;" header="Alteração de Senha (Primeiro Acesso)">
                            <p:panel style="border: none !important;">
                                <h:panelGrid columns="2" style="font-size: medium; font-weight:bold" > 
                                    <h:outputLabel value="CPF: "/>
                                    <h:outputLabel value="#{loginBean.usuAltSenhaObj.cadFuncionarioPK.cpfFunc}" />                                         
                                </h:panelGrid>
                            </p:panel>
                            <p:panel>
                                <h:panelGrid columns="2">                   
                                    <h:outputLabel value="Sua nova senha: "/>
                                    <p:password value="#{loginBean.senhaAcess}" required="true" />

                                    <h:outputLabel value="Repita a nova senha: " />
                                    <p:password value="#{loginBean.repetirSenhaAcess}" required="true" />
                                </h:panelGrid>

                                <f:facet name="footer">
                                    <p:commandButton 
                                        value="Alterar" 
                                        icon="ui-icon ui-icon-check" 
                                        style="font-size: small; font-weight:bold"
                                        action="#{loginBean.alterarSenha()}"
                                        update="@form :frmPrimeiroAcesso"/>                                
                                </f:facet>
                            </p:panel>
                        </p:panel>
                    </h:form>                
                </p:layoutUnit>

            </p:layout>
            <!--</h:form>-->
        </h:body>

    </f:view>
</html>
